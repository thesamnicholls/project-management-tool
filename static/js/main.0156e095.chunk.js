(this["webpackJsonpproject-management-tool"]=this["webpackJsonpproject-management-tool"]||[]).push([[0],{208:function(e,t,a){e.exports=a(402)},213:function(e,t,a){},402:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(81),o=a.n(c),l=(a(213),a(5)),i=a(3),s=a(6),m=Object(s.b)(null,(function(e){return{signOut:function(){return e((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))}))}}}))((function(e){return r.a.createElement("ul",{className:"c-navigation__list"},r.a.createElement("li",{className:"c-navigation__list-item"},r.a.createElement(l.c,{className:"c-navigation__link",to:"/project-management-tool/create",title:"Click here to create a new project"},"New Project")),r.a.createElement("li",{className:"c-navigation__list-item"},r.a.createElement("button",{className:"c-navigation__link",onClick:e.signOut,title:"Click here to log out"},"Log Out")),r.a.createElement("li",{className:"c-navigation__list-item"},r.a.createElement(l.c,{className:"c-navigation__circle",to:"/",title:"Click here to view your profile"},e.profile.initals)))})),u=function(){return r.a.createElement("ul",{className:"c-navigation__list"},r.a.createElement("li",{className:"c-navigation__list-item"},r.a.createElement(l.c,{className:"c-navigation__link",to:"/project-management-tool/signup",title:"Click here to sign up"},"Sign Up")),r.a.createElement("li",{className:"c-navigation__list-item"},r.a.createElement(l.c,{className:"c-navigation__link",to:"/project-management-tool/signin",title:"Click here to log in"},"Log In")))},p=Object(s.b)((function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}}))((function(e){var t=e.auth,a=e.profile;return r.a.createElement("div",{className:"c-navigation"},r.a.createElement("div",{className:"c-navigation__wrapper"},r.a.createElement(l.b,{className:"c-navigation__title",to:"/project-management-tool",title:"Click here to go home"},"Project Management Tool"),t.uid?r.a.createElement(m,{profile:a}):r.a.createElement(u,null)))})),E=a(10),d=function(e){var t=e.title,a=e.id,n=e.authorFirstName,c=e.authorLastName,o=e.createdAt;return r.a.createElement(l.b,{className:"c-link",to:"/project-management-tool/project/"+a},r.a.createElement("div",{className:"c-card",key:a},r.a.createElement("p",{className:"c-card__title"},t),r.a.createElement("p",{className:"c-card__author"},"Posted by ",n," ",c),r.a.createElement("p",{className:"c-card__date"},o.toDate().toDateString())))},b=function(){return r.a.createElement("div",{className:"c-loading"})},f=function(e){var t=e.title,a=e.setVisible;return r.a.createElement("button",{className:"c-button",onClick:function(){a((function(e){return e+5}))},type:"button"},t)},g=function(e){var t=e.projects,a=Object(n.useState)(5),c=Object(E.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)(!1),s=Object(E.a)(i,2),m=s[0],u=s[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){u(!0)}),1e3);return function(){return clearTimeout(e)}}),[]),r.a.createElement("div",{className:"l-grid"},m?r.a.createElement("div",null,r.a.createElement("div",{className:"o-row"},r.a.createElement("div",{className:"l-grid"},t.slice(0,o).map((function(e){return r.a.createElement(d,{key:e.id,id:e.id,title:e.title,authorFirstName:e.authorFirstName,authorLastName:e.authorLastName,createdAt:e.createdAt})})))),r.a.createElement("div",{className:"o-row"},o<t.length&&r.a.createElement(f,{title:"Load More",setVisible:l}))):r.a.createElement(b,null))},h=a(25),j=a(15),N=Object(j.d)(Object(h.firestoreConnect)(["projects"]),Object(s.b)((function(e){return{projects:e.firestore.ordered.projects,auth:e.firebase.auth}})))((function(e){var t=e.projects;return e.auth.uid?r.a.createElement("div",{className:"l-dashboard"},r.a.createElement("div",{className:"l-dashboard__wrapper"},r.a.createElement(g,{projects:t}))):r.a.createElement(i.a,{to:"/project-management-tool/signin"})})),_=Object(j.d)(Object(h.firestoreConnect)(["projects"]),Object(s.b)((function(e,t){var a=t.match.params.id,n=e.firestore.data.projects;return{project:n?n[a]:null,auth:e.firebase.auth}})))((function(e){var t=e.project,a=e.auth;return t?a.uid?r.a.createElement("div",{className:"c-detail"},r.a.createElement("div",{className:"c-detail__wrapper"},r.a.createElement("p",{className:"c-detail__title"},t.title),r.a.createElement("p",{className:"c-detail__description"},t.content)),r.a.createElement("div",{className:"c-detail__footer"},r.a.createElement("p",{className:"c-detail__post"},"Posted By ",t.authorFirstName," ",t.authorLastName),r.a.createElement("p",{className:"c-detail__date"},t.createdAt.toDate().toDateString()))):r.a.createElement(i.a,{to:"/project-management-tool/signin"}):r.a.createElement(b,null)})),v=function(e){var t=e.label,a=e.id,n=e.type,c=e.onChange;return r.a.createElement("div",{className:"c-input"},r.a.createElement("label",{className:"c-input__label",htmlFor:a},t),r.a.createElement("input",{className:"c-input__input",onChange:c,type:n,id:a}))},O=Object(s.b)((function(e){return{authError:e.auth.authError,auth:e.firebase.auth}}),(function(e){return{signIn:function(t){return e(function(e){return function(t,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"LOGIN_SUCCESS"})})).catch((function(e){t({type:"LOGIN_ERROR",error:e})}))}}(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(E.a)(l,2),m=s[0],u=s[1],p={password:c,email:m},d=e.authError;return e.auth.uid?r.a.createElement(i.a,{to:"/project-management-tool"}):r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.signIn(p)},className:"c-form"},r.a.createElement("p",{className:"c-form__title"},"Sign In"),r.a.createElement(v,{label:"Email",id:"email",type:"email",onChange:function(e){u(e.target.value)}}),r.a.createElement(v,{label:"Password",id:"password",type:"password",onChange:function(e){o(e.target.value)}}),d&&r.a.createElement("p",{className:"c-form__error"},d),r.a.createElement("div",{className:"c-form__button"},r.a.createElement("button",{className:"c-button",type:"submit",title:"Click here to login"},"Login")))})),S=Object(s.b)((function(e){return{auth:e.firebase.auth,authError:e.auth.authError}}),(function(e){return{signUp:function(t){e(function(e){return function(t,a,n){var r=n.getFirebase,c=n.getFirestore,o=r(),l=c();o.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return l.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,initals:e.firstName[0]+e.lastName[0]})})).then((function(){t({type:"SIGNUP_SUCCESS"})})).catch((function(e){t({type:"SIGNUP_ERROR",error:e})}))}}(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(E.a)(l,2),m=s[0],u=s[1],p=Object(n.useState)(""),d=Object(E.a)(p,2),b=d[0],f=d[1],g=Object(n.useState)(""),h=Object(E.a)(g,2),j=h[0],N=h[1],_={firstName:b,lastName:j,email:m,password:c},O=e.auth,S=e.authError;return O.uid?r.a.createElement(i.a,{to:"/project-management-tool"}):r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.signUp(_),console.log("password "+c,"email "+m,"firstName "+b,"lastName "+j)},className:"c-form"},r.a.createElement("p",{className:"c-form__title"},"Sign Up"),r.a.createElement(v,{label:"Email",id:"email",type:"email",onChange:function(e){u(e.target.value)}}),r.a.createElement(v,{label:"Password",id:"password",type:"password",onChange:function(e){o(e.target.value)}}),r.a.createElement(v,{label:"First Name",id:"firstName",type:"text",onChange:function(e){f(e.target.value)}}),r.a.createElement(v,{label:"Last Name",id:"lastName",type:"text",onChange:function(e){N(e.target.value)}}),S&&r.a.createElement("p",{className:"c-form__error"},S),r.a.createElement("div",{className:"c-form__button"},r.a.createElement("button",{className:"c-button",type:"submit",title:"Click here to sign up"},"Sign Up")))})),C=function(e){var t=e.label,a=e.id,n=e.onChange;return r.a.createElement("div",{className:"c-input"},r.a.createElement("label",{className:"c-input__label",htmlFor:a},t),r.a.createElement("textarea",{className:"c-input__area",onChange:n,id:a}))},R=a(17),y=Object(s.b)((function(e){return{auth:e.firebase.auth}}),(function(e){return{createProject:function(t){return e(function(e){return function(t,a,n){var r=n.getFirestore,c=a().firebase.profile,o=a().firebase.auth.uid;r().collection("projects").add(Object(R.a)(Object(R.a)({},e),{},{authorFirstName:c.firstName,authorLastName:c.lastName,authorId:o,createdAt:new Date})).then((function(){t({type:"CREATE_PROJECT",project:e})})).catch((function(e){t({type:"CREATE_PROJECT_ERROR",error:e})}))}}(t))}}}))((function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(""),s=Object(E.a)(l,2),m=s[0],u=s[1],p=e.auth,d={title:c,content:m};return p.uid?r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.createProject(d),e.history.push("/project-management-tool")},className:"c-form"},r.a.createElement("p",{className:"c-form__title"},"Create Project"),r.a.createElement(v,{label:"Title",id:"title",type:"text",onChange:function(e){o(e.target.value)}}),r.a.createElement(C,{label:"Content",id:"content",onChange:function(e){u(e.target.value)}}),r.a.createElement("div",{className:"c-form__button"},r.a.createElement("button",{className:"c-button",title:"Click here to create a project"},"Create Project"))):r.a.createElement(i.a,{to:"/project-management-tool/signin"})})),w=function(){return r.a.createElement(l.a,null,r.a.createElement(p,null),r.a.createElement("div",{className:"o-main"},r.a.createElement("div",{className:"o-row"},r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/project-management-tool",component:N}),r.a.createElement(i.b,{exact:!0,path:"/project-management-tool/project/:id",component:_}),r.a.createElement(i.b,{exact:!0,path:"/project-management-tool/signin",component:O}),r.a.createElement(i.b,{exact:!0,path:"/project-management-tool/signup",component:S}),r.a.createElement(i.b,{exact:!0,path:"/project-management-tool/create",component:y})))))},P={authError:null},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ERROR":return console.log("Login Failed"),Object(R.a)(Object(R.a)({},e),{},{authError:"Login failed"});case"LOGIN_SUCCESS":return console.log("Login Sucess"),Object(R.a)(Object(R.a)({},e),{},{authError:null});case"SIGNOUT_SUCCESS":return console.log("Signout Success"),e;case"SIGNUP_SUCCESS":return console.log("Signup Success"),Object(R.a)(Object(R.a)({},e),{},{authError:null});case"SIGNUP_ERROR":return console.log("Signup Failed"),Object(R.a)(Object(R.a)({},e),{},{authError:t.error.message});default:return e}},I={projects:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_PROJECT":return console.log("Created Project",t.project),e;case"CREATE_PROJECT_ERROR":return console.log("Create Project Error",t.error),e;default:return e}},A=a(43),U=Object(j.c)({auth:F,project:k,firestore:A.firestoreReducer,firebase:h.firebaseReducer}),L=a(207),T=a(55),x=a.n(T);a(397),a(400);x.a.initializeApp({apiKey:"AIzaSyAPlR10BTdPAA3qrgf4BnbTEAUKsAOANBA",authDomain:"project-mangement-tool-ba94c.firebaseapp.com",databaseURL:"https://project-mangement-tool-ba94c.firebaseio.com",projectId:"project-mangement-tool-ba94c",storageBucket:"project-mangement-tool-ba94c.appspot.com",messagingSenderId:"994840881165",appId:"1:994840881165:web:172de820f28c7b7a250d44",measurementId:"G-34M7NN17JL"});var G=x.a,D=Object(j.e)(U,Object(j.d)(Object(j.a)(L.a.withExtraArgument({getFirebase:h.getFirebase,getFirestore:A.getFirestore})),Object(A.reduxFirestore)(G))),J={firebase:x.a,config:{userProfile:"users",useFirestoreForProfile:!0},dispatch:D.dispatch,createFirestoreInstance:A.createFirestoreInstance};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:D},r.a.createElement(h.ReactReduxFirebaseProvider,J,r.a.createElement(w,null)))),document.getElementById("root"))}},[[208,1,2]]]);
//# sourceMappingURL=main.0156e095.chunk.js.map